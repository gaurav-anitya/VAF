<!DOCTYPE html>
<html lang="en">

<head>
<<<<<<< HEAD
    <title>See Initiated Escort Requests</title> 
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">

    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css" integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    
    <style type="text/css">
        html, body {
            width: 100%;
            height: 100%;
            margin: 0px;
            padding: 0px;
            background-image: linear-gradient(to right, #3a90cb , #2ed9d0);
            overflow: hidden; 
=======
    <style type="text/css">
        input,
        select,
        textarea {
            outline: none;
            appearance: unset !important;
            -moz-appearance: unset !important;
            -webkit-appearance: unset !important;
            -o-appearance: unset !important;
            -ms-appearance: unset !important;
        }
        .fa-info-circle:before{
    cursor:pointer;
}
.fa-info-circle:after{
    cursor:pointer;
}
        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            box-shadow: none !important;
            -moz-box-shadow: none !important;
            -webkit-box-shadow: none !important;
            -o-box-shadow: none !important;
            -ms-box-shadow: none !important;
        }
       
        img {
            max-width: 100%;
            height: auto;
        }


        .form-title {
            margin-bottom: 33px;
            font-size: 3vw;
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
        }

        body {
            font-size: 13px;
            line-height: 1.8;
            color: #222;
<<<<<<< HEAD
            font-weight: 400;
            font-family: Arial, sans-serif;
        }
        
        .main-visitor {
            width: 100%;
            height: 100%;
            background-image: linear-gradient(to right, #3a90cb , #2ed9d0);
            /*border: solid 5px red;*/
        }

        .signup {
            position: relative;
            width: 100%;
            height: 100%;
            /*border: solid 5px yellow;*/

        }

            .signup > div.row {
                /*position: fixed;*/
                top: 0px;
                left: 0px;
                width: 100%;
                margin: 0px;
                padding: 0px;
                height: 55px;
                /*border: solid 5px purple;*/
            }

        .search {
            width: 60%;
            margin: 0 auto;
            padding: 0px !important;
            margin-top: 10px;
            height: 100%;
            font-size: 22.5px;
            vertical-align: middle; 
            /*border: solid 5px blue;*/
        }

        .has-search .form-control {
            width: 100%;
            height: 100%;
            padding-left: 32.5px;
            background-color: transparent;
            border-radius: 1.25rem;
            border: 1px solid black;
            font-family: Arial, sans-serif !important;  
            font-size: 14pt;
        }

        .has-search .form-control-feedback {
            font-size: 25px !important;
            position: absolute;
            z-index: 2;
            display: block;
            width: 2.375rem;
            height: 2.375rem;
            line-height: 55px;
            text-align: center;
            pointer-events: none;
            color: black;
        }

        .fa {
            padding-top: 0px !important;
        }

        .has-search .form-control:focus {
            background-color: #ffffff;
            border-color: black;
        }

        .card-container {
            width: 100%;
            /*border: solid 5px green;*/
            padding-right: 80px;
            padding-left: 80px;
            margin-top: 0px !important;
            position: absolute;
            top: 75px;
            bottom: 0px;
            overflow-x: hidden;
            overflow-y: scroll;
        }
        
        /*css bookmark*/       
        
        input,
        select,
        textarea {
            outline: none;
            appearance: unset !important;
            -moz-appearance: unset !important;
            -webkit-appearance: unset !important;
            -o-appearance: unset !important;
            -ms-appearance: unset !important;
        }

        .fa-info-circle:before {
            cursor: pointer;
        }

        .fa-info-circle:after {
            cursor: pointer;
        }

        input:focus,
        select:focus,
        textarea:focus {
            outline: none;
            box-shadow: none !important;
            -moz-box-shadow: none !important;
            -webkit-box-shadow: none !important;
            -o-box-shadow: none !important;
            -ms-box-shadow: none !important;
        }

        img {
            max-width: 100%;
            height: auto;
        }


        .form-title {
            margin-bottom: 33px;
            font-size: 3vw;
        }

        body {
            font-size: 13px;
            line-height: 1.8;
            color: #222;
            background: #ece6e6;
            font-weight: 400;
            font-family: Poppins;
        }

        .container-div {
            width: 900px;
            background: #fff;
            margin: 0 auto;
            box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -moz-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -webkit-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -o-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -ms-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            -moz-border-radius: 20px;
            -webkit-border-radius: 20px;
            -o-border-radius: 20px;
            -ms-border-radius: 20px;
        }

        .form-group {
            position: relative;
            margin-bottom: 13px;
            overflow: hidden;
        }

            .form-group:last-child {
                margin-bottom: 0px;
            }

        /* Bootstrap 4 text input with search icon */

        input::-webkit-input-placeholder {
            color: #999;
        }

        input::-moz-placeholder {
            color: #999;
        }

        input:-ms-input-placeholder {
            color: #999;
        }

        input:-moz-placeholder {
            color: #999;
        }

        input:focus::-webkit-input-placeholder {
            color: #222;
        }

        input:focus::-moz-placeholder {
            color: #222;
        }

        input:focus:-ms-input-placeholder {
            color: #222;
        }

        input:focus:-moz-placeholder {
            color: #222;
        }

        .para {
            padding-top: 17px;
            padding-left: 173px;
            padding-right: 98px;
            margin-bottom: -2px;
            font-size: 2.1vw;
            color: black;
            font-family: Arial, sans-serif;
            margin: -17px;
        }

        .image {
            position: absolute;
            width: 138px;
        }

        .center-con {
            display: flex;
            position: absolute;
            margin: -0.7% 92%;
        }

        .lock-icon {
            position: absolute;
            margin: 99px -185px;
            font-size: 22px;
            cursor: pointer;
        }

        @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation : landscape) {
            .para {
                padding-top: 17px;
                padding-left: 165px;
                padding-right: 98px;
                margin-bottom: -2px;
                font-size: 2vw;
                color: black;
                font-family: Arial, sans-serif;
                margin: -17px;
            }

            .image {
                position: absolute;
                width: 138px;
            }

            .center-con {
                display: flex;
                position: absolute;
                margin: -0.7% 92%;
            }

            .lock-icon {
                position: absolute;
                margin: 99px -185px;
                font-size: 22px;
            }

            .modal-title {
                margin-left: 165px;
            }


            .modal-dialog {
                margin-top: 17vw!important;
            }
        }

        @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation : portrait) {
            .para {
                padding-top: 37px;
                padding-left: 126px;
                padding-right: 50px;
                margin-bottom: -2px;
                font-size: 2.1vw;
                color: black;
                font-family: Arial, sans-serif;
                margin: -22px;
            }

            .image {
                position: absolute;
                width: 138px;
                margin-left: -25px;
            }

            .center-con {
                display: flex;
                position: absolute;
                margin: -0.7% 89%;
            }

            .lock-icon {
                position: absolute;
                /* margin: 13.1% 71%; */
                margin: 88px -104px;
                font-size: 20px;
            }

            .modal-title {
                margin-left: 87px;
=======
            background: #ece6e6;
            font-weight: 400;
            font-family: Poppins;
        }

        .container-div {
            width: 900px;
            background: #fff;
            margin: 0 auto;
            box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -moz-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -webkit-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -o-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -ms-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            -moz-border-radius: 20px;
            -webkit-border-radius: 20px;
            -o-border-radius: 20px;
            -ms-border-radius: 20px;
        }

        .form-group {
            position: relative;
            margin-bottom: 13px;
            overflow: hidden;
        }

        .form-group:last-child {
            margin-bottom: 0px;
        }

        /* Bootstrap 4 text input with search icon */

        input::-webkit-input-placeholder {
            color: #999;
        }

        input::-moz-placeholder {
            color: #999;
        }

        input:-ms-input-placeholder {
            color: #999;
        }

        input:-moz-placeholder {
            color: #999;
        }

        input:focus::-webkit-input-placeholder {
            color: #222;
        }

        input:focus::-moz-placeholder {
            color: #222;
        }

        input:focus:-ms-input-placeholder {
            color: #222;
        }

        input:focus:-moz-placeholder {
            color: #222;
        }

        .para {
            padding-top: 17px;
            padding-left: 173px;
            padding-right: 98px;
            margin-bottom: -2px;
            font-size: 2.1vw;
            color: black;
            font-family: Arial, sans-serif;
            margin: -17px;
        }

        .image {
            position: absolute;
            width: 138px;
        }

        .center-con {
            display: flex;
            position: absolute;
            margin: -0.7% 92%;
        }

        .lock-icon {
            position: absolute;
            margin: 99px -185px;
            font-size: 22px;
            cursor:pointer;
        }

        @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation : landscape) {
            .para {
                padding-top: 17px;
                padding-left: 165px;
                padding-right: 98px;
                margin-bottom: -2px;
                font-size: 2vw;
                color: black;
                font-family: Arial, sans-serif;
                margin: -17px;
            }

            .image {
                position: absolute;
                width: 138px;
            }

            .center-con {
                display: flex;
                position: absolute;
                margin: -0.7% 92%;
            }

            .lock-icon {
                position: absolute;
                margin: 99px -185px;
                font-size: 22px;
            }
            
             .modal-title {
            margin-left: 165px;
            }

            
            .modal-dialog {
                margin-top: 17vw!important;
            }
        }

        @media only screen and (min-width : 768px) and (max-width : 1024px) and (orientation : portrait) {
            .para {
                padding-top: 37px;
                padding-left: 126px;
                padding-right: 50px;
                margin-bottom: -2px;
                font-size: 2.1vw;
                color: black;
                font-family: Arial, sans-serif;
                margin: -22px;
            }

            .image {
                position: absolute;
                width: 138px;
                margin-left: -25px;
            }

            .center-con {
                display: flex;
                position: absolute;
                margin: -0.7% 89%
            }

            .lock-icon {
                position: absolute;
                /* margin: 13.1% 71%; */
                margin: 88px -104px;
                font-size: 20px;
            }
            
             .modal-title {
            margin-left: 87px;
            }

            
            .modal-dialog {
                margin-top: 42vw!important;
            }


        }

        @media screen and (max-width: 1200px) {
            .container {
                width: calc(100% - 30px);
                max-width: 100%;
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
            }
        }

<<<<<<< HEAD

            .modal-dialog {
                margin-top: 42vw!important;
            }
        }

        @media screen and (max-width: 1200px) {
            .container {
                width: calc(100% - 30px);
                max-width: 100%;
            }
        }

        @media screen and (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }
        }

        @media screen and (max-width: 768px) {
            .form-button {
                text-align: center;
            }

            .form-title {
                text-align: center;
            }
        }

        .form-icons {
            font-size: 1.5em;
            line-height: .75em;
            position: absolute;
            padding-top: 3%;
            padding-left: 1%;
        }

        .input-boxes {
            width: 100%;
            display: block;
            border: none;
            border-bottom: 1px solid #999;
            padding: 6px 44px;
            font-family: Arial, sans-serif;
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-buttons {
            background-color: #2ed9d0;
            border: none;
        }

        /* Visitor details */




        img {
            max-width: 100%;
            height: auto;
        }

        h2 {
            line-height: 1.66;
            margin: 0;
            padding: 0;
            font-weight: bold;
            color: #222;
            font-family: Arial, sans-serif;
            font-size: 36px;
        }        

        /* .approved{
      
      background-color: #4ba94b;
    } */
        .approved {
            background-color: #4ba94b !important;
            /* background-color:green */
        }

        .pending {
            background-color: white;
        }

        .card {
            min-height: 176px;
            /* background-color: white; */
            padding: 25px;
            margin-bottom: 21px;
            font-family: Helvetica;
            /* box-shadow: 0px 3px 8px 0px rgba(0,0,0,0.5); */
            box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -moz-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -webkit-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.25);
            -o-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -ms-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            -moz-border-radius: 20px;
            -webkit-border-radius: 20px;
            -o-border-radius: 20px;
            -ms-border-radius: 20px;
            border-radius: 1.25rem;
        }

        .btn-agree {
            color: #fff;
            background-color: #2ed9d0;
        }

        .term-service {
            font-size: 13px;
            color: #222;
        }



        .form-group {
            position: relative;
            margin-bottom: 13px;
            overflow: hidden;
        }


        .icon {
            font-size: 1.5em;
            line-height: .75em;
            vertical-align: -15%;
            position: absolute;
            padding-top: 3%;
            padding-left: 1%;
        }




        /* Bootstrap 4 text input with search icon */

        .form-control:focus {
            background-color: none;
        }

        p {
            font-family: Arial, sans-serif;
            font-size: 22px;
            margin-bottom: -5px;
        }

        /* .para{
    padding-top: 8px;
    padding-left: 111px;
    padding-right: 98px;
      margin-bottom: -2px;
      font-size:1.9vw;
      color: rgb(51, 49, 49);
      font-family: sans-serif;
      margin: -17px;
  
  
  }
   */
        .agree-term {
            display: inline-block;
            width: auto;
        }



        .form-title {
            text-align: center;
        }

        .visitor-modal-dialog {
            margin: 46px 110px 18px 110px;
        }

        .visitor-modal-body {
            position: relative;
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            padding: 15px 40px 15px 40px;
        }


        /* @media (min-width: 576px) */

        .modal-dialog {
            max-width: 900px;
            margin: 1.75rem auto;
        }

        .modal-body {
            padding: 1rem 1.5rem;
        }

        .fa {
            display: inline-block;
            font: normal normal normal 14px/1 FontAwesome;
            font-size: inherit;
            text-rendering: auto;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            padding-top: 6px;
        }
    </style>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="/public/javascripts/checkFloor.js"></script>
    <script src="/public/javascripts/guardLogin.js"></script>
    
    <script>
        // code to create a new selector same as jquery`s contains but also case insensitive
        $.expr[":"].Contains = $.expr.createPseudo(function (arg) {
            return function (elem) {
                return $(elem).text().toUpperCase().indexOf(arg.toUpperCase()) >= 0;
            };
        });
        function alertOkBtnClicked() {
            if (checkifAlertMessageClassExists('visitorApproved')) {
                document.location.href = "/";
                return;

            }

        }


        $(document).ready(function () {

                        var loggedInUser = localStorage.getItem('userLoggedIn');
                        if (loggedInUser == undefined || loggedInUser == null) {
                            window.location.href = '/';
                        }


            //get approval token //
            $("#approvalTokenOkBtn").click(function (e) {
                $('#approvalTokenPrompt').modal('hide');
                var escort_id = escort_idGlobal;
                var visitor_id = visitorIdGlobal;// $(e.target).closest("div.card").find('div.visitorId').text();
                var getToken = $('#txtApprovalToken').val();
                var groupId = groupIdGlobal;
                if (getToken !== '') {

                    var date = new Date();
                    var day = date.getDay();
                    var hrs = date.getHours();
                    //var min=date.getMinutes();

                    if (day == 6 || day == 7 || (hrs > 21 && hrs <= 23) || (hrs >= 0 && hrs < 9)) {
                        $.ajax(
                            {
                                url: "/OddHoursApproval",
                                type: "POST",
                                data: {
                                    visitor_id: visitor_id, getToken: getToken, escort_id: visitor_id.trim(), groupId: groupId.trim()
                                },
                                success: function (result) {
                                    // alertMessage(result);
                                    if (result) {
                                        alertMessage("Visitor approved !!");
                                        //   document.location.href = "/";
                                    }
                                    else {

                                        alertMessage("Error while updating record. Please try again !!");
                                        // document.location.href = "/";
                                    }
                                }
                            }
                        );
                    }

                    else {
                        $.ajax(
                            {
                                url: "/visitorApproved",
                                type: "POST",
                                data: {
                                    visitor_id: visitor_id, getToken: getToken, escort_id: visitor_id.trim(), groupId: groupId.trim()
                                },
                                success: function (result) {
                                    // alertMessage(result);
                                    if (result) {
                                        alertMessage("Visitor approved !!", "visitorApproved");
                                        //  document.location.href = "/";
                                    }
                                    else {

                                        alertMessage("Error while updating record. Please try again !!");
                                        // document.location.href = "/";
                                    }
                                }
                            }
                        );
                    }

                } else {
                    // document.location.href="/";
                }

            });
            var visitorIdGlobal = '';
            var escort_idGlobal = '';
            var groupIdGlobal = '';
            $(document).on('click', '#approvalToken', function (e) {
                //  var escort_id = $('#escortId').text().trim();
                var visitor_id = $(e.target).closest("div.card").find('input.hdnId').val();
                visitorIdGlobal = visitor_id;

                var result = objArray.filter(
                    obj => obj.Id == visitor_id);

                var escort_id = result[0].escort_empid;
                var groupId = result[0].groupId//$('#noOfPerson').val();//(document.getElementById("group").innerText).split(":");
                groupIdGlobal = groupId;
                escort_idGlobal = escort_id;
                //alertMessage(groupId[1]);
                if (escort_id != "" && visitor_id != "") {
                    $.ajax(
                        {
                            url: "/getApprovalToken",
                            type: "Post",
                            data: {
                                escort_id: visitor_id
                            },
                            success: function (result) {
                                if (!result) {
                                    alertMessage("Your previous token is expired.Please regenerate token.");
                                }
                                else {
                                    //   var getToken=prompt(result);
                                    approvalTokenPrompt(result);

                                }
                            }
                        }


                    );
                }
                else {
                    alertMessage("Please enter required details!!");
                }
            });

            $('.round').click(function (e) {
                e.preventDefault();
                e.stopPropagation();
                $('.arrow').toggleClass('bounceAlpha');
            });
            $('input.focus').focus(function () {
                $(this).prev().css('fontSize', '1.4em');
            });
            $('input.focus').blur(function () {
                $(this).prev().css('fontSize', '1.0em');
            });
            /*
                            var objArray = [
                             { visitor_empid : 1608286, visitor_name: 'Sakshi Gadia', escort_time_from: '3:00 PM', approvalStatus:
             "Approved",visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
            visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454'
             },
                             { visitor_empid : 1608286, visitor_name: 'Manisha', escort_time_from: '3:00 PM', approvalStatus: "Approved"
            ,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
            visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
                             { visitor_empid : 1608286, visitor_name: 'Juhi', escort_time_from: '3:00 PM', approvalStatus: "Approved"
            ,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
            visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
                             { visitor_empid : 1608286, visitor_name: 'Priya', escort_time_from: '3:00 PM', approvalStatus: "Pending"
            ,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
            visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
                         ]; */
            /*  generateCards(objArray);
                        $("#card-list").fadeIn('slow');
                        $('.fa-info-circle').on('click', function () {
                            var visitorId = $(this).closest('div.card').find('div.visitorId').text();
                            var requestedTime = $(this).closest('div.card').find('div.requestedTime').text();
                            var status = $(this).closest('div.card').find('div.status').text();
                            var result = objArray.filter(
                                obj => obj.visitor_empid === parseInt(visitorId) && (obj.escort_time_from === requestedTime) && (obj.approvalStatus === status));
                            $('#cardNumber').text(result[0].visitor_smartcard);
                            $('#company').text(result[0].visitor_company);
                            $('#purpose').text(result[0].visitor_purpose);
                            $('#project').text(result[0].visitor_unit);
                            $('#noOfPerson').text(result[0].groupId); //!= 'Individual' ? 'Group' : result[0].groupId);
                            //$('#noOfPerson').val(result[0].groupId);
                            $('#type').text(result[0].visitor_access);
                            $('#outTime').text(result[0].escort_time_to);
                            $('#escortId').text(result[0].escort_empid);
                            console.log(result);

                        });
                     */

            bindGrid();

        });
        var objArray = [];

        function searchCard(obj) {
            var visitorCount = $('.visitorName').length;
            var searchTerm = $(obj).val();
            if ($(".cardNoRecord").is(":visible")) {
                $(".cardNoRecord").fadeOut('slow');
            }
            if (searchTerm !== '') {

                $('div.card').hide();
                $('div.card').stop();
                if ($('.visitorName:not(:Contains("' + searchTerm + '"))').length != visitorCount) {
                    // $('.visitorName:not(:Contains("'+searchTerm+'"))').closest('div.card').hide();
                    // $('.visitorName(:Contains("'+searchTerm+'"))').closest('div.card').hide();
                    $('.visitorName:Contains("' + searchTerm + '")').closest('div.card').fadeIn('slow');
                }
                else
                    $(".cardNoRecord").fadeIn('slow');
            }
            else {
                //  if ($(".cardNoRecord").is(":visible")) {
                $(".cardNoRecord").fadeOut('slow');
                //  }
                $('div.card:not(.cardNoRecord)').fadeIn('slow');
            }

        }
        function bindGrid() {

            $.ajax(
                {
                    url: "/visitorRecord",
                    type: "Post",
                    data: {

                    },
                    contentType: "application/json; charset=utf-8",

                    success: function (result) {
                        console.log(result);
                        var items = JSON.parse(result);
                        objArray = items;

                        // for (var i = 0; i < items.length; i++) {

                        //  var date = ((items[i].escort_date).substring(0, 10)).split('-').reverse().join('-');

                        //items[i].escort_date = date;

                        // objArray.push({
                        //     visitorId: items[i].visitor_empid,
                        //     visitorName: items[i].visitor_name,
                        //     requestedTime: items[i].escort_time_from,
                        //     Status: items[i].approvalStatus
                        // });

                        // }
                        generateCards(objArray);
                        $("#card-list").fadeIn('slow');
                        $('.fa-info-circle').on('click', function () {
                            var visitorId = $(this).closest('div.card').find('div.visitorId').text();
                            var requestedTime = $(this).closest('div.card').find('div.requestedTime').text();
                            var status = $(this).closest('div.card').find('div.status').text();
                            var result = objArray.filter(
                                obj => obj.visitor_empid === parseInt(visitorId) && (obj.escort_time_from === requestedTime) && (obj.approvalStatus === status));
                            $('#cardNumber').text(result[0].visitor_smartcard);
                            $('#company').text(result[0].visitor_company);
                            $('#purpose').text(result[0].visitor_purpose);
                            $('#project').text(result[0].visitor_unit);
                            $('#noOfPerson').text(result[0].groupId); //!= 'Individual' ? 'Group' : result[0].groupId);
                            //$('#noOfPerson').val(result[0].groupId);
                            $('#type').text(result[0].visitor_access);
                            $('#outTime').text(result[0].escort_time_to);
                            $('#escortId').text(result[0].escort_empid);
                            console.log(result);

                        });
                    }
                });
        }

        function generateCards(objArray) {
            let dataHtml = '';
            if (objArray.length > 0) {
                $(".cardNoRecord").hide();
            }
            jQuery.each(objArray, function (i, val) {
                var classname = '';
                var lockDiv = '';
                if (val.approvalStatus.toLowerCase() === 'approved') {
                    classname = 'approved';
                    lockDiv = '';

                    // $('.lock-icon').hide() 
                }
                else {
                    classname = '';
                    lockDiv = '<div id="approvalToken" class="lock-icon pb-4 pl-4" ><i style="font-size:1.4em" class="fas fa-unlock-alt"></i></div>';
                    // $('.lock-icon').hide() 
                }


                dataHtml += ('<div class="card ' + classname + '" style="border-radius: 1.25rem;">' + '<div class="image"><img src="/public/images/escort.png"></div>' + '<div class="para">' +
                    '<div class="row">' +
                    '<div class="col-7">' + 'Visitor ID /व़िज़िटअ आयडी' + '</div>' +
                    '<div class="col-5 visitorId">' + val.visitor_empid + '</div>' +
                    '<div class="col-7">' + 'Visitor Name /व़िज़िटअ का नाम' + '</div>' +
                    '<div class="col-5 visitorName" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">' + val.visitor_name + '</div>' +
                     '<div class="col-7">' + 'Requested Time /अनुरोध समय' + '</div>' + 
                     '<div class="col-5 requestedTime">' + val.escort_time_from + '</div>' + 
                    '<div class="col-7">' + 'Status /स्थिति' + '</div>' +
                    '<div class="col-5 status">' + val.approvalStatus + '</div>' +
                    '</div>' + '</div>' + '<div class="center-con point">' +
                    '<div class="fas fa-info-circle point" style="font-size: 20px;" data-toggle="modal" data-target="#visitorInfoModal">' +
                    // '<div id="cta">' +
                    // '<span class="arrow primera next "></span>' +
                    // '<span class="arrow segunda next "></span>' +
                    // '</div>' +
                    '</div>' + lockDiv +
                    '</div>' +
                    '<div><input type="hidden" class="hdnId" value=' + val.Id + '></input></div>' +
                    '</div>');


            });
            $("#card-list").append(dataHtml);
        }

        function alertMessage(msg, className) {
            $('#FlashMessage').find(".modal-body").html(msg);
            $('#FlashMessage').modal('show');
            if (typeof (className) !== "undefined") {

                $('#FlashMessage').addClass(className);
            }

        }
=======
        @media screen and (min-width: 1024px) {
            .container {
                max-width: 1200px;
            }
        }

        @media screen and (max-width: 768px) {
            .form-button {
                text-align: center;
            }

            .form-title {
                text-align: center;
            }
        }

        .form-icons {
            font-size: 1.5em;
            line-height: .75em;
            position: absolute;
            padding-top: 3%;
            padding-left: 1%;
        }

        .input-boxes {
            width: 100%;
            display: block;
            border: none;
            border-bottom: 1px solid #999;
            padding: 6px 44px;
            font-family: Arial, sans-serif;
            font-size: 16px;
            box-sizing: border-box;
        }

        .form-buttons {
            background-color: #2ed9d0;
            border: none;
        }

        /* Visitor details */




        img {
            max-width: 100%;
            height: auto;
        }

        h2 {
            line-height: 1.66;
            margin: 0;
            padding: 0;
            font-weight: bold;
            color: #222;
            font-family: Arial, sans-serif;
            font-size: 36px;
        }

        .main-visitor {
            /* background-image: url('./collaboration_LIFE_005.Resized.jpg'); */
            /* -webkit-filter: grayscale(70%); */
            /* filter: grayscale(100%); */
            background: #ece6e6;
            padding: 73px 0;
        }



        body {
            font-size: 13px;
            line-height: 1.8;
            color: #222;
            /* background-image: url('./collaboration_LIFE_005.Resized.jpg'); */
            background: #ece6e6;
            ;
            /* -webkit-filter: grayscale(100%);  */
            /* filter: grayscale(100%); */
            font-weight: 400;
            font-family: Arial, sans-serif;
        }

        /* .approved{
      
      background-color: #4ba94b;
    } */
        .approved {

            background-color: #4ba94b !important;
            /* background-color:green */
        }

        .pending {
            background-color: white;
        }

        .card {
            min-height: 176px;
            /* background-color: white; */
            padding: 25px;
            margin-bottom: 21px;
            font-family: Helvetica;
            /* box-shadow: 0px 3px 8px 0px rgba(0,0,0,0.5); */
            box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -moz-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -webkit-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.25);
            -o-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            -ms-box-shadow: 0px 15px 16.83px 0.17px rgba(0, 0, 0, 0.05);
            border-radius: 20px;
            -moz-border-radius: 20px;
            -webkit-border-radius: 20px;
            -o-border-radius: 20px;
            -ms-border-radius: 20px;
            border-radius: 1.25rem;
        }

        /* .card:hover {
      background: #62b45b; } */

        .card-container {
            padding-right: 80px;
            padding-left: 80px;
        }


        .btn-agree {
            color: #fff;
            background-color: #2ed9d0;
        }

        .signup {
            margin-bottom: 150px;
        }


        .term-service {
            font-size: 13px;
            color: #222;
        }



        .form-group {
            position: relative;
            margin-bottom: 13px;
            overflow: hidden;
        }


        .icon {
            font-size: 1.5em;
            line-height: .75em;
            vertical-align: -15%;
            position: absolute;
            padding-top: 3%;
            padding-left: 1%;
        }




        /* Bootstrap 4 text input with search icon */

        .has-search .form-control {
            padding-left: 2.375rem;
            height: calc(1.8125rem + 2px);
            padding: 0.25rem 2rem;
            background-color: transparent;
            border-radius: 1.25rem;
            border: 1px solid black;
        }

        .form-control:focus {
            background-color: none
        }

        .search {
            padding-bottom: 10px;
            float: right;
            font-size: 22.5px;
        }

        p {
            font-family: Arial, sans-serif;
            font-size: 22px;
            margin-bottom: -5px;
        }

        /* .para{
    padding-top: 8px;
    padding-left: 111px;
    padding-right: 98px;
      margin-bottom: -2px;
      font-size:1.9vw;
      color: rgb(51, 49, 49);
      font-family: sans-serif;
      margin: -17px;
  
  
  }
   */
        .has-search .form-control-feedback {
            position: absolute;
            z-index: 2;
            display: block;
            width: 2.375rem;
            height: 2.375rem;
            line-height: 2.0rem;
            text-align: center;
            pointer-events: none;
            color: black;
        }

        .has-search .form-control:focus {
            background-color: #ece6e6;
            border-color: black;
        }

        .agree-term {
            display: inline-block;
            width: auto;
        }



        .form-title {
            text-align: center;
        }

        .visitor-modal-dialog {
            margin: 46px 110px 18px 110px;
        }

        .visitor-modal-body {
            position: relative;
            -ms-flex: 1 1 auto;
            flex: 1 1 auto;
            padding: 15px 40px 15px 40px;
        }


        /* @media (min-width: 576px) */

        .modal-dialog {
            max-width: 900px;
            margin: 1.75rem auto; 
        }
        
        .modal-body {
            padding: 1rem 1.5rem;
        }

        .has-search .form-control {
            padding-left: 2.375rem;
            height: calc(2.5rem + 2px);
            padding: 1.25rem 2.5rem;
            background-color: transparent;
            border-radius: 1.25rem;
            border: 1px solid black;
            font-size: 20px;
            width: 260px;
            margin-right: 3vw;
        }

        .fa {
            display: inline-block;
            font: normal normal normal 14px/1 FontAwesome;
            font-size: inherit;
            text-rendering: auto;
            -webkit-font-smoothing: antialiased;
            font-size: 20px;
            padding-top: 6px;
        }
    </style>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.2/css/all.css"
        integrity="sha384-fnmOCqbTlWIlj8LyTjo7mOUStjsKC4pOpQbqyi7RrhN7udi9RwhKkMHpvLbHG9Sr" crossorigin="anonymous">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css">
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
    <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js"></script>
    <script src="/public/javascripts/checkFloor.js"></script>
    <script src="/public/javascripts/guardLogin.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

    <script>
        // code to create a new selector same as jquery`s contains but also case insensitive
        $.expr[":"].Contains = $.expr.createPseudo(function (arg) {
            return function (elem) {
                return $(elem).text().toUpperCase().indexOf(arg.toUpperCase()) >= 0;
            };
        });
        function alertOkBtnClicked() {
            if (checkifAlertMessageClassExists('visitorApproved')) {
                document.location.href = "/";
                return;

            }

        }


        $(document).ready(function () {

//            var loggedInUser = localStorage.getItem('userLoggedIn');
//            if (loggedInUser == undefined || loggedInUser == null) {
//                window.location.href = '/';
//            }


            //get approval token //
            $("#approvalTokenOkBtn").click(function (e) {
                $('#approvalTokenPrompt').modal('hide');
                var escort_id = escort_idGlobal;
                var visitor_id = visitorIdGlobal;// $(e.target).closest("div.card").find('div.visitorId').text();
                var getToken = $('#txtApprovalToken').val();
                var groupId = groupIdGlobal;
                if (getToken !== '') {

                    var date = new Date();
                    var day = date.getDay();
                    var hrs = date.getHours();
                    //var min=date.getMinutes();

                    if (day == 6 || day == 7 || (hrs > 21 && hrs <= 23) || (hrs >= 0 && hrs < 9)) {
                        $.ajax(
                            {
                                url: "/OddHoursApproval",
                                type: "POST",
                                data: {
                                    visitor_id: visitor_id, getToken: getToken, escort_id: visitor_id.trim(), groupId: groupId.trim()
                                },
                                success: function (result) {
                                    // alertMessage(result);
                                    if (result) {
                                        alertMessage("Visitor approved !!");
                                        //   document.location.href = "/";
                                    }
                                    else {

                                        alertMessage("Error while updating record. Please try again !!");
                                        // document.location.href = "/";
                                    }
                                }
                            }
                        );
                    }

                    else {
                        $.ajax(
                            {
                                url: "/visitorApproved",
                                type: "POST",
                                data: {
                                    visitor_id: visitor_id, getToken: getToken, escort_id: visitor_id.trim(), groupId: groupId.trim()
                                },
                                success: function (result) {
                                    // alertMessage(result);
                                    if (result) {
                                        alertMessage("Visitor approved !!", "visitorApproved");
                                      //  document.location.href = "/";
                                    }
                                    else {

                                        alertMessage("Error while updating record. Please try again !!");
                                        // document.location.href = "/";
                                    }
                                }
                            }
                        );
                    }

                } else {
                    // document.location.href="/";
                }

            });
            var visitorIdGlobal = '';
            var escort_idGlobal = '';
            var groupIdGlobal = '';
            $(document).on('click', '#approvalToken', function (e) {
                //  var escort_id = $('#escortId').text().trim();
                var visitor_id = $(e.target).closest("div.card").find('input.hdnId').val();
                visitorIdGlobal = visitor_id;

                var result = objArray.filter(
                    obj => obj.Id == visitor_id);

                var escort_id = result[0].escort_empid;
                var groupId = result[0].groupId//$('#noOfPerson').val();//(document.getElementById("group").innerText).split(":");
                groupIdGlobal = groupId;
                escort_idGlobal = escort_id;
                //alertMessage(groupId[1]);
                if (escort_id != "" && visitor_id != "") {
                    $.ajax(
                        {
                            url: "/getApprovalToken",
                            type: "Post",
                            data: {
                                escort_id: visitor_id
                            },
                            success: function (result) {
                                if (!result) {
                                    alertMessage("Your previous token is expired.Please regenerate token.");
                                }
                                else {
                                    //   var getToken=prompt(result);
                                    approvalTokenPrompt(result);

                                }
                            }
                        }


                    );
                }
                else {
                    alertMessage("Please enter required details!!");
                }
            });

            $('.round').click(function (e) {
                e.preventDefault();
                e.stopPropagation();
                $('.arrow').toggleClass('bounceAlpha');
            });
            $('input.focus').focus(function () {
                $(this).prev().css('fontSize', '1.4em');
            });
            $('input.focus').blur(function () {
                $(this).prev().css('fontSize', '1.0em');
            });
/*
                var objArray = [
                 { visitor_empid : 1608286, visitor_name: 'Sakshi Gadia', escort_time_from: '3:00 PM', approvalStatus:
 "Approved",visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454'
 },
                 { visitor_empid : 1608286, visitor_name: 'Manisha', escort_time_from: '3:00 PM', approvalStatus: "Approved"
,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
                 { visitor_empid : 1608286, visitor_name: 'Juhi', escort_time_from: '3:00 PM', approvalStatus: "Approved"
,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
                 { visitor_empid : 1608286, visitor_name: 'Priya', escort_time_from: '3:00 PM', approvalStatus: "Pending"
,visitor_smartcard: '1234',visitor_company:'Tata Consultancy services(TCS)',visitor_purpose:'new joinee',
visitor_unit:'elli lilly',groupId:'group 5',visitor_access:'permanent',escort_empid:'123333454' },
             ]; */
            /*  generateCards(objArray);
                        $("#card-list").fadeIn('slow');
                        $('.fa-info-circle').on('click', function () {
                            var visitorId = $(this).closest('div.card').find('div.visitorId').text();
                            var requestedTime = $(this).closest('div.card').find('div.requestedTime').text();
                            var status = $(this).closest('div.card').find('div.status').text();
                            var result = objArray.filter(
                                obj => obj.visitor_empid === parseInt(visitorId) && (obj.escort_time_from === requestedTime) && (obj.approvalStatus === status));
                            $('#cardNumber').text(result[0].visitor_smartcard);
                            $('#company').text(result[0].visitor_company);
                            $('#purpose').text(result[0].visitor_purpose);
                            $('#project').text(result[0].visitor_unit);
                            $('#noOfPerson').text(result[0].groupId); //!= 'Individual' ? 'Group' : result[0].groupId);
                            //$('#noOfPerson').val(result[0].groupId);
                            $('#type').text(result[0].visitor_access);
                            $('#outTime').text(result[0].escort_time_to);
                            $('#escortId').text(result[0].escort_empid);
                            console.log(result);

                        });
                     */

           bindGrid();

        });
        var objArray = [];

        function searchCard(obj) {
            var visitorCount = $('.visitorName').length;
            var searchTerm = $(obj).val();
            if ($(".cardNoRecord").is(":visible")) {
                $(".cardNoRecord").fadeOut('slow');
            }
            if (searchTerm !== '') {

                $('div.card').hide();
                $('div.card').stop();
                if ($('.visitorName:not(:Contains("' + searchTerm + '"))').length != visitorCount) {
                    // $('.visitorName:not(:Contains("'+searchTerm+'"))').closest('div.card').hide();
                    // $('.visitorName(:Contains("'+searchTerm+'"))').closest('div.card').hide();
                    $('.visitorName:Contains("' + searchTerm + '")').closest('div.card').fadeIn('slow');
                }
                else
                    $(".cardNoRecord").fadeIn('slow');
            }
            else {
                //  if ($(".cardNoRecord").is(":visible")) {
                $(".cardNoRecord").fadeOut('slow');
                //  }
                $('div.card:not(.cardNoRecord)').fadeIn('slow');
            }

        }
        function bindGrid() {

            $.ajax(
                {
                    url: "/visitorRecord",
                    type: "Post",
                    data: {

                    },
                    contentType: "application/json; charset=utf-8",

                    success: function (result) {
                        console.log(result);
                        var items = JSON.parse(result);
                        objArray = items;

                        // for (var i = 0; i < items.length; i++) {

                        //  var date = ((items[i].escort_date).substring(0, 10)).split('-').reverse().join('-');

                        //items[i].escort_date = date;

                        // objArray.push({
                        //     visitorId: items[i].visitor_empid,
                        //     visitorName: items[i].visitor_name,
                        //     requestedTime: items[i].escort_time_from,
                        //     Status: items[i].approvalStatus
                        // });

                        // }
                        generateCards(objArray);
                        $("#card-list").fadeIn('slow');
                        $('.fa-info-circle').on('click', function () {
                            var visitorId = $(this).closest('div.card').find('div.visitorId').text();
                            var requestedTime = $(this).closest('div.card').find('div.requestedTime').text();
                            var status = $(this).closest('div.card').find('div.status').text();
                            var result = objArray.filter(
                                obj => obj.visitor_empid === parseInt(visitorId) && (obj.escort_time_from === requestedTime) && (obj.approvalStatus === status));
                            $('#cardNumber').text(result[0].visitor_smartcard);
                            $('#company').text(result[0].visitor_company);
                            $('#purpose').text(result[0].visitor_purpose);
                            $('#project').text(result[0].visitor_unit);
                            $('#noOfPerson').text(result[0].groupId); //!= 'Individual' ? 'Group' : result[0].groupId);
                            //$('#noOfPerson').val(result[0].groupId);
                            $('#type').text(result[0].visitor_access);
                            $('#outTime').text(result[0].escort_time_to);
                            $('#escortId').text(result[0].escort_empid);
                            console.log(result);

                        });
                    }
                });
        }

        function generateCards(objArray) {
            let dataHtml = '';
            if (objArray.length > 0) {
                $(".cardNoRecord").hide();
            }
            jQuery.each(objArray, function (i, val) {
                var classname = '';
                var lockDiv = '';
                if (val.approvalStatus.toLowerCase() === 'approved') {
                    classname = 'approved';
                    lockDiv = '';

                    // $('.lock-icon').hide() 
                }
                else {
                    classname = '';
                    lockDiv = '<div id="approvalToken" class="lock-icon pb-4 pl-4" ><i style="font-size:1.4em" class="fas fa-unlock-alt"></i></div>';
                    // $('.lock-icon').hide() 
                }


                dataHtml += ('<div class="card ' + classname + '" style="border-radius: 1.25rem;">' + '<div class="image"><img src="/public/images/escort.png"></div>' + '<div class="para">' +
                    '<div class="row">' +
                    '<div class="col-7">' + 'Visitor ID /व़िज़िटअ आयडी' + '</div>' +
                    '<div class="col-5 visitorId">' + val.visitor_empid + '</div>' +
                    '<div class="col-7">' + 'Visitor Name /व़िज़िटअ का नाम' + '</div>' +
                    '<div class="col-5 visitorName" style="white-space: nowrap;overflow: hidden;text-overflow: ellipsis;">' + val.visitor_name + '</div>' +
                     '<div class="col-7">' + 'Requested Time /अनुरोध समय' + '</div>' + 
                     '<div class="col-5 requestedTime">' + val.escort_time_from + '</div>' + 
                    '<div class="col-7">' + 'Status /स्थिति' + '</div>' +
                    '<div class="col-5 status">' + val.approvalStatus + '</div>' +
                    '</div>' + '</div>' + '<div class="center-con point">' +
                    '<div class="fas fa-info-circle point" style="font-size: 20px;" data-toggle="modal" data-target="#visitorInfoModal">' +
                    // '<div id="cta">' +
                    // '<span class="arrow primera next "></span>' +
                    // '<span class="arrow segunda next "></span>' +
                    // '</div>' +
                    '</div>' + lockDiv +
                    '</div>' +
                    '<div><input type="hidden" class="hdnId" value=' + val.Id + '></input></div>' +
                    '</div>');


            });
            $("#card-list").append(dataHtml);
        }

        function alertMessage(msg, className) {
            $('#FlashMessage').find(".modal-body").html(msg);
            $('#FlashMessage').modal('show');
            if (typeof (className) !== "undefined") {

                $('#FlashMessage').addClass(className);
            }

        }
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab

        function checkifAlertMessageClassExists(className) {
            if ($('#FlashMessage').hasClass(className))
                return true;
            else
                return false;
        }
        function approvalTokenPrompt(msg) {
            $('#approvalTokenPrompt').find(".modal-body").find("[id*='approvalTokenTextDiv']").html(msg);
            $('#approvalTokenPrompt').modal('show');

        }
    </script>
</head>
<<<<<<< HEAD
<body>
    <div class="modal fade" id="FlashMessage" tabindex="-1" role="dialog" aria-labelledby="FlashMessageLabel" aria-hidden="true">
=======

<body>
    
    <div class="modal fade" id="FlashMessage" tabindex="-1" role="dialog" aria-labelledby="FlashMessageLabel"
        aria-hidden="true">
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header" style="background: linear-gradient(to right, #3a90cb , #2ed9d0);">
                </div>
                <div class="modal-body text-center font-weight-bold">
<<<<<<< HEAD
                </div>
                <div class="pb-3 text-center">
                    <button type="button" class="btn btn-primary btn-lg" onclick="return alertOkBtnClicked();"
                        data-dismiss="modal">
                        OK</button>
=======

                </div>
                <div class="pb-3 text-center">
                    <button type="button" class="btn btn-primary btn-lg" onclick="return alertOkBtnClicked();"
                        data-dismiss="modal">OK</button>
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab

                </div>
            </div>
        </div>
    </div>
<<<<<<< HEAD
=======

>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
    <div class="modal fade" id="approvalTokenPrompt" tabindex="-1" role="dialog"
        aria-labelledby="ApprovalTokenPromptLabel" aria-hidden="true">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header"
<<<<<<< HEAD
                    style="color: white; background: linear-gradient(to right, #3a90cb , #2ed9d0);">
                    Approval Token
                </div>
                <div class="modal-body text-center font-weight-bold">
                    <div id="approvalTokenTextDiv"></div>
                    <div class="pt-3">
                        <input type="text" id="txtApprovalToken" /></div>
                </div>
                <div class="pb-3 text-center">
                    <button type="button" id="approvalTokenOkBtn" style="width: 85px" class="btn btn-primary btn-lg">OK</button>
                    <button type="button" id="approvalTokekCancelBtn" style="width: 85px; margin-left: 10px" data-dismiss="modal" class="btn btn-primary btn-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>
    <div class="main-visitor">
        <section class="signup">
            <div class="row row-header">
                <div class="has-search search pr-5">
                    <span class="fa fa-search form-control-feedback"></span>
                    <input type="text" id="txtSearch" class="form-control focus" oninput="searchCard(this);" placeholder="Search" />
                </div>
            </div>
            <div class="card-container mt-4" id="card-list">
                <div class="card cardNoRecord"
                    style="font-size: 35px; text-align: center; padding-top: 52px; color: gray; border-radius: 1.25rem;">
                    Data not
                    found!
                </div>
                 <!--<div class="card">
                    <p>Visitor ID : 1608286</p>
                    <p>Visitor Name : 1608286</p>
                    <p>Requested Time : 1608286</p>
                    <p>Status : 1608286</p>
                </div>
                <div class="card">
                    <p>Visitor ID : 1608286</p>
                    <p>Visitor Name : 1608286</p>
                    <p>Requested Time : 1608286</p>
                    <p>Status : 1608286</p>
                </div> -->
            </div>
        </section>
    </div>
    <div class="modal fade" id="visitorInfoModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document" style="max-width: 68%;">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #eeeeee;">
                    <h4 class="modal-title" id="" style="color: #2ed9d0;">Visitor Details / व़िज़िटअ
                        विवरण
                    </h4>
                    <button type="button" style="font-size: 31pt;" class="close point" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="font-size: 2vw;">
                    <div class="pt-2">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class=" form-labels " style="font-weight: bold">Card Id / कार्ड
                                            आयडी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="cardNumber" class=" row-text"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Company / कंपनी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="company" class="pull-left row-text">Tata Consultancy Services</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Purpose / उद्देश्य</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="purpose" class="row-text">New Joinee</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Project / प्रोजैक्ट</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="project" class="row-text">Eli Lilly and Company</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Group(समूह) /
                                            Individual(व्यक्ति)</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="noOfPerson" class="row-text">Individual</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Type / प्रकार</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="type" class="row-text">Permanent</span>
                                    </div>
                                </div>
                                <!--  <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Out Time / बाहर जाने का
                                            समय</span>
                                    </div> 
                                    <div class="col-sm-6">
                                        <span id="outTime" class="row-text">13:59:00</span>
                                    </div>
                                </div>-->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Escort ID / एस्कॉर्ट
                                            आईडी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="escortId" class="row-text">1111213</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
=======
                    style="color: white;background: linear-gradient(to right, #3a90cb , #2ed9d0);">
                    Approval Token
                </div>
                <div class="modal-body text-center font-weight-bold">
                    <div id="approvalTokenTextDiv"></div>
                    <div class="pt-3"><input type="text" id="txtApprovalToken" /></div>


                </div>
                <div class="pb-3 text-center">
                    <button type="button" id="approvalTokenOkBtn" style="width:85px" class="btn btn-primary btn-lg">OK</button>
                    <button type="button" id="approvalTokekCancelBtn" style="width:85px;margin-left:10px" data-dismiss="modal" class="btn btn-primary btn-lg">Cancel</button>
                </div>
            </div>
        </div>
    </div>

    <div class="main-visitor">
        <section class="signup">
            <div class="row row-header">
                <div class="col-6 text-right">
                    <h2>Escorting List </h2>
                </div>
                <div class="col-6" style="float:right">
                    <div class="has-search search pr-5">
                        <span class="fa fa-search form-control-feedback"></span>
                        <input type="text" id="txtSearch" class="form-control focus" oninput="searchCard(this);"
                            placeholder="Search" />
                    </div>
                </div>
            </div>
            <div class="card-container mt-4" id="card-list">


                <div class=" card cardNoRecord"
                    style="font-size: 35px;text-align: center;padding-top: 52px; color:gray; border-radius: 1.25rem;">
                    Data not
                    found!</div>
                <!-- <div class="card">
                    <p>Visitor ID : 1608286</p>
                    <p>Visitor Name : 1608286</p>
                    <p>Requested Time : 1608286</p>
                    <p>Status : 1608286</p>
                </div>
                <div class="card">
                    <p>Visitor ID : 1608286</p>
                    <p>Visitor Name : 1608286</p>
                    <p>Requested Time : 1608286</p>
                    <p>Status : 1608286</p>
                </div> -->
            </div>
        </section>
    </div>

    <div class="modal fade" id="visitorInfoModal" tabindex="-1" role="dialog" aria-labelledby="modalLabel"
        aria-hidden="true">
        <div class="modal-dialog" role="document" style="max-width: 68%;">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #eeeeee;">
                    <h4 class="modal-title" id="" style="color: #2ed9d0;">Visitor Details / व़िज़िटअ
                        विवरण
                    </h4>
                    <button type="button" style="font-size:31pt;" class="close point" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                    </button>
                </div>
                <div class="modal-body" style="font-size: 2vw;">
                    <div class="pt-2">
                        <div class="row">
                            <div class="col-sm-12">
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class=" form-labels " style="font-weight: bold">Card Id / कार्ड
                                            आयडी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="cardNumber" class=" row-text"></span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Company / कंपनी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="company" class="pull-left row-text">Tata Consultancy Services</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Purpose / उद्देश्य</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="purpose" class="row-text">New Joinee</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Project / प्रोजैक्ट</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="project" class="row-text">Eli Lilly and Company</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Group(समूह) /
                                            Individual(व्यक्ति)</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="noOfPerson" class="row-text">Individual</span>
                                    </div>
                                </div>
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Type / प्रकार</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="type" class="row-text">Permanent</span>
                                    </div>
                                </div>
                                <!--  <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Out Time / बाहर जाने का
                                            समय</span>
                                    </div> 
                                    <div class="col-sm-6">
                                        <span id="outTime" class="row-text">13:59:00</span>
                                    </div>
                                </div>-->
                                <div class="row">
                                    <div class="col-sm-6">
                                        <span class="form-labels" style="font-weight: bold">Escort ID / एस्कॉर्ट
                                            आईडी</span>
                                    </div>
                                    <div class="col-sm-6">
                                        <span id="escortId" class="row-text">1111213</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
                <div class="modal-footer" style="background-color: #eeeeee;">
                    <button type="button" class="btn btn-agree" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
<<<<<<< HEAD
</body>
</html>
=======

</body>

</html>
>>>>>>> 7f2a40380ad0e455c5c548c571fa1b6cf7de7fab
